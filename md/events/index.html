<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Events - Dino</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Dino</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Dino</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Md <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../acl/" class="dropdown-item">Acl</a>
</li>
                                    
<li>
    <a href="../api/" class="dropdown-item">Api</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Events</a>
</li>
                                    
<li>
    <a href="../external_events/" class="dropdown-item">External events</a>
</li>
                                    
<li>
    <a href="../getting_started/" class="dropdown-item">Getting started</a>
</li>
                                    
<li>
    <a href="../installation/" class="dropdown-item">Installation</a>
</li>
                                    
<li>
    <a href="../invisibility/" class="dropdown-item">Invisibility</a>
</li>
                                    
<li>
    <a href="../rest/" class="dropdown-item">Rest</a>
</li>
                                    
<li>
    <a href="../storage/" class="dropdown-item">Storage</a>
</li>
                                    
<li>
    <a href="../usage/" class="dropdown-item">Create rooms and send messages using the room _name_ instead of _ID_</a>
</li>
                                    
<li>
    <a href="../web/" class="dropdown-item">Web</a>
</li>
                                    
<li>
    <a href="../wio/" class="dropdown-item">Wio</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../api/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../external_events/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="2"><a href="#message-deleted" class="nav-link">Message deleted</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#message-received" class="nav-link">Message received</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#message-has-been-read" class="nav-link">Message has been read</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#message-has-been-delivered" class="nav-link">Message has been delivered</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#user-info-updated" class="nav-link">User info updated</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#admin-presence-requested" class="nav-link">Admin presence requested</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#a-room-was-removed" class="nav-link">A room was removed</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#a-room-was-renamed" class="nav-link">A room was renamed</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#invitation-received" class="nav-link">Invitation received</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#another-user-joins-the-room" class="nav-link">Another user joins the room</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#another-user-leaves-room" class="nav-link">Another user leaves room</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#another-user-connects" class="nav-link">Another user connects</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#another-user-disconnects" class="nav-link">Another user disconnects</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#you-were-banned" class="nav-link">You were banned</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#a-new-room-is-created" class="nav-link">A new room is created</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#a-user-is-kicked-from-a-room" class="nav-link">A user is kicked from a room</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#broadcast-received" class="nav-link">Broadcast received</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#a-user-is-banned" class="nav-link">A user is banned</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h2 id="message-deleted">Message deleted</h2>
<p>When an admin/mod/etc. deletes a message from a room, everyone on that room will receive an event with the name 
<code>gn_message_deleted</code> so they can remove it locally as well.</p>
<pre><code class="language-json">{
    &quot;id&quot;: &quot;&lt;server-generated UUID&gt;&quot;,
    &quot;published&quot;: &quot;&lt;server-generated timestamp, RFC3339 format&gt;&quot;,
    &quot;object&quot;: {
        &quot;id&quot;: &quot;&lt;UUID of the message that was deleted&gt;&quot;
    },
    &quot;target&quot;: {
        &quot;id&quot;: &quot;&lt;UUID of the room the message was deleted in&gt;&quot;
    },
    &quot;verb&quot;: &quot;delete&quot;,
    &quot;actor&quot;: {
        &quot;id&quot;: &quot;&lt;ID of the user who deleted the message&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of the user, base64&gt;&quot;
    }
}
</code></pre>
<h2 id="message-received">Message received</h2>
<p>When user A receives a private message, or a message from a room that user A is in, the event <code>message</code> will be sent
to user A with the following content:</p>
<pre><code class="language-json">{
    &quot;id&quot;: &quot;&lt;server-generated UUID&gt;&quot;,
    &quot;published&quot;: &quot;&lt;server-generated timestamp, RFC3339 format&gt;&quot;,
    &quot;actor&quot;: {
        &quot;id&quot;: &quot;&lt;UUID of the sender&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of the sender&gt;&quot;
    },
    &quot;verb&quot;: &quot;send&quot;,
    &quot;target&quot;: {
        &quot;id&quot;: &quot;&lt;UUID of the room, or this user's UUID if private msg&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of the room, or target user name if private msg&gt;&quot;,
        &quot;objectType&quot;: &quot;&lt;room/private&gt;&quot;
    },
    &quot;object&quot;: {
        &quot;content&quot;: &quot;&lt;the message body&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;the name of the channel, or empty if private msg&gt;&quot;,
        &quot;url&quot;: &quot;&lt;UUID of the channel for this room, or empty if private msg&gt;&quot;
    }
}
</code></pre>
<h2 id="message-has-been-read">Message has been read</h2>
<p>If user A sends a message to user B and user B invokes the <code>read</code> api to indicate the message has been read, user A
will receive a <code>gn_message_read</code> event with the following content:</p>
<pre><code class="language-json">{
    &quot;id&quot;: &quot;&lt;server-generated UUID&gt;&quot;,
    &quot;published&quot;: &quot;&lt;server-generated timestamp, RFC3339 format&gt;&quot;,
    &quot;actor&quot;: {
        &quot;id&quot;: &quot;&lt;user id of the one sending the read receipt&gt;&quot;
    },
    &quot;verb&quot;: &quot;read&quot;,
    &quot;target&quot;: {
        &quot;id&quot;: &quot;&lt;uuid of the room the messages are all in&gt;&quot; 
    },   
    &quot;object&quot;: {
        &quot;attachments&quot;: [
            {&quot;id&quot;: &quot;&lt;message1 uuid&gt;&quot;},
            {&quot;id&quot;: &quot;&lt;message2 uuid&gt;&quot;},
            {&quot;id&quot;: &quot;&lt;message3 uuid&gt;&quot;}
        ]    
    }    
}
</code></pre>
<h2 id="message-has-been-delivered">Message has been delivered</h2>
<p>If user A sends a message to user B and user B invokes the <code>received</code> api to indicate the message has been received,
user A will receive a <code>gn_message_received</code> event with the following content:</p>
<pre><code class="language-json">{   
    &quot;id&quot;: &quot;&lt;server-generated UUID&gt;&quot;,
    &quot;published&quot;: &quot;&lt;server-generated timestamp, RFC3339 format&gt;&quot;,
    &quot;actor&quot;: {
        &quot;id&quot;: &quot;&lt;user id of the one sending the read receipt&gt;&quot;
    },
    &quot;verb&quot;: &quot;received&quot;,
    &quot;target&quot;: {
        &quot;id&quot;: &quot;&lt;uuid of the room the messages are all in&gt;&quot; 
    },   
    &quot;object&quot;: {
        &quot;attachments&quot;: [
            {&quot;id&quot;: &quot;&lt;message1 uuid&gt;&quot;},
            {&quot;id&quot;: &quot;&lt;message2 uuid&gt;&quot;},
            {&quot;id&quot;: &quot;&lt;message3 uuid&gt;&quot;}
        ]    
    }    
}   
</code></pre>
<h2 id="user-info-updated">User info updated</h2>
<p>When a user updates his/her user information (e.g. avatar, is streaming, age etc.), the event <code>gn_user_info_updated</code>
will be sent to either all rooms that the user is in, or a specific room that user chose to send to. The event looks 
like this:</p>
<pre><code class="language-json">{
    &quot;actor&quot;: {
        &quot;id&quot;: &quot;997110&quot;,
        &quot;displayName&quot;: &quot;YmF0bWFu&quot;
    },
    &quot;object&quot;: {
        &quot;attachments&quot;: [{
            &quot;content&quot;: &quot;MA==&quot;,
            &quot;objectType&quot;: &quot;streaming&quot;
        },{
            &quot;content&quot;: &quot;MzU=&quot;,
            &quot;objectType&quot;: &quot;age&quot;
        }],
        &quot;objectType&quot;: &quot;userInfo&quot;
    },
    &quot;verb&quot;: &quot;update&quot;,
    &quot;id&quot;: &quot;&lt;server-generated UUID&gt;&quot;,
    &quot;published&quot;: &quot;&lt;server-generated timestamp, RFC3339 format&gt;&quot;
}
</code></pre>
<p>The <code>content</code> on each attachment is always base64 encoded. The <code>objectType</code> tells which field has been updated. Possible
values depends on implementation, but is usually same as what's returned for user info when joining a room (<code>gn_join</code>).</p>
<h2 id="admin-presence-requested">Admin presence requested</h2>
<p>When someone requests the presence of an admin in a room all users in the Admin room for that channel will receive an
event called <code>gn_admin_requested</code> containing the following:</p>
<pre><code class="language-json">{
    &quot;id&quot;: &quot;&lt;server-generated UUID&gt;&quot;,
    &quot;published&quot;: &quot;&lt;server-generated timestamp, RFC3339 format&gt;&quot;,
    &quot;actor&quot;: {
        &quot;id&quot;: &quot;&lt;UUID of user requesting&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of the user requesting&gt;&quot;,,
        &quot;attachments&quot;: [
            {
                &quot;content&quot;: &quot;NDA=&quot;,
                &quot;objectType&quot;: &quot;age&quot;
            },
            {
                &quot;content&quot;: &quot;aHR0cDovL3NvbWUtdXJsLnRsZC9mb28uanBn&quot;,
                &quot;objectType&quot;: &quot;avatar&quot;
            }
        ]
    },
    &quot;verb&quot;: &quot;help&quot;,
    &quot;object&quot;: {
        &quot;content&quot;: &quot;&lt;base64 encoded message&gt;&quot;
    },
    &quot;generator&quot;: {
        &quot;id&quot;: &quot;&lt;UUID of the room the help was requested for&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of the room&gt;&quot;
    },
    &quot;target&quot;: {
        &quot;id&quot;: &quot;&lt;UUID of the admin room&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;base64 of the admin room name&gt;&quot;
    }
}
</code></pre>
<h2 id="a-room-was-removed">A room was removed</h2>
<p>When a room is removed by an admin/owner an event called <code>gn_room_removed</code> will be sent to everyone on the server (to
keep the room list in sync on client side):</p>
<pre><code class="language-json">{
    &quot;actor&quot;: {
        &quot;id&quot;: &quot;&lt;user ID who removed the room&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of the user who removed the room, in base64&gt;&quot;
    },
    &quot;target&quot;: {
        &quot;id&quot;: &quot;&lt;room uuid&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;room name in base64&gt;&quot;,
        &quot;objectType&quot;: &quot;room&quot;
    },
    &quot;object&quot;: {
        &quot;content&quot;: &quot;&lt;an optional reason, in base64&gt;&quot;
    },
    &quot;id&quot;: &quot;c42ebf01-3d50-4f27-a345-4ed213be045d&quot;,
    &quot;published&quot;: &quot;2016-10-07T10:45:34Z&quot;,
    &quot;verb&quot;: &quot;removed&quot;
}
</code></pre>
<h2 id="a-room-was-renamed">A room was renamed</h2>
<p>When a room is renamed by an admin/owner an event called <code>gn_room_renamed</code> will be sent to everyone on the server (to
keep the room list in sync on client side):</p>
<pre><code class="language-json">{
    &quot;actor&quot;: {
        &quot;id&quot;: &quot;&lt;user ID who renamed the room&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of the user who renamed the room, in base64&gt;&quot;
    },
    &quot;target&quot;: {
        &quot;id&quot;: &quot;&lt;room uuid&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;NEW room name in base64&gt;&quot;,
        &quot;objectType&quot;: &quot;room&quot;
    },
    &quot;id&quot;: &quot;c42ebf01-3d50-4f27-a345-4ed213be045d&quot;,
    &quot;published&quot;: &quot;2016-10-07T10:45:34Z&quot;,
    &quot;verb&quot;: &quot;renamed&quot;
}
</code></pre>
<h2 id="invitation-received">Invitation received</h2>
<p>When user B invites user A to join room X, the event <code>gn_invitation</code> will be sent to user A with the following content:</p>
<pre><code class="language-json">{
    &quot;id&quot;: &quot;&lt;server-generated UUID&gt;&quot;,
    &quot;published&quot;: &quot;&lt;server-generated timestamp, RFC3339 format&gt;&quot;,
    &quot;actor&quot;: {
        &quot;id&quot;: &quot;&lt;UUID of user B&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of user B&gt;&quot;,,
        &quot;attachments&quot;: [
            {
                &quot;content&quot;: &quot;NDA=&quot;,
                &quot;objectType&quot;: &quot;age&quot;
            },
            {
                &quot;content&quot;: &quot;aHR0cDovL3NvbWUtdXJsLnRsZC9mb28uanBn&quot;,
                &quot;objectType&quot;: &quot;avatar&quot;
            }
        ]
    },
    &quot;verb&quot;: &quot;invite&quot;,
    &quot;object&quot;: {
        &quot;url&quot;: &quot;&lt;UUID of the channel for room X&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of the channel for room X&gt;&quot;
    },
    &quot;target&quot;: {
        &quot;id&quot;: &quot;&lt;UUID of the room&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of the room&gt;&quot;
    }
}
</code></pre>
<h2 id="another-user-joins-the-room">Another user joins the room</h2>
<p>If user A is in room X, and another user B joins room X, the server will send an event called <code>gn_user_joined</code> to user A
with the following content:</p>
<pre><code class="language-json">{
    &quot;id&quot;: &quot;&lt;server-generated UUID&gt;&quot;,
    &quot;published&quot;: &quot;&lt;server-generated timestamp, RFC3339 format&gt;&quot;,
    &quot;actor&quot;: {
        &quot;id&quot;: &quot;&lt;user B's UUID&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of user B&gt;&quot;,
        &quot;content&quot;: &quot;globalmod,moderator&quot;
        &quot;image&quot;: {
            &quot;url&quot;: &quot;&lt;user B's image url&gt;&quot;
        },
        &quot;attachments&quot;: [
            {
                &quot;content&quot;: &quot;NDA=&quot;,
                &quot;objectType&quot;: &quot;age&quot;
            },
            {
                &quot;content&quot;: &quot;aHR0cDovL3NvbWUtdXJsLnRsZC9mb28uanBn&quot;,
                &quot;objectType&quot;: &quot;avatar&quot;
            }
        ]
    },
    &quot;target&quot;: {
        &quot;id&quot;: &quot;&lt;uuid of the room&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of the room&gt;&quot;
    },
    &quot;verb&quot;: &quot;join&quot;
}
</code></pre>
<p>The <code>actor.content</code> describes the roles this user has in this room, plus any global roles. Examples:</p>
<ul>
<li><code>globalmod,moderator</code></li>
<li><code>moderator</code></li>
<li><code>superuser</code></li>
</ul>
<p>If no specific roles, the value will be blank.</p>
<h2 id="another-user-leaves-room">Another user leaves room</h2>
<p>When user A is in room X, and another user B leaves room X, the sever will send an event called <code>gn_user_left</code> to user A
with the following content:</p>
<pre><code class="language-json">{
    &quot;id&quot;: &quot;&lt;server-generated UUID&gt;&quot;,
    &quot;published&quot;: &quot;&lt;server-generated timestamp, RFC3339 format&gt;&quot;,
    &quot;actor&quot;: {
        &quot;id&quot;: &quot;&lt;user B's UUID&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of user B&gt;&quot;,
    },
    &quot;target&quot;: {
        &quot;id&quot;: &quot;&lt;uuid of the room&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of the room&gt;&quot;
    },
    &quot;verb&quot;: &quot;leave&quot;
}
</code></pre>
<h2 id="another-user-connects">Another user connects</h2>
<p>When a user connects (or stops being invisible), the <code>gn_user_connected</code> event will be sent.</p>
<pre><code class="language-json">{
    &quot;actor&quot;: {
        &quot;id&quot;: &quot;&lt;user B's UUID&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of user B&gt;&quot;,
        &quot;attachments&quot;: [
            {
                &quot;content&quot;: &quot;NDA=&quot;,
                &quot;objectType&quot;: &quot;age&quot;
            },
            {
                &quot;content&quot;: &quot;aHR0cDovL3NvbWUtdXJsLnRsZC9mb28uanBn&quot;,
                &quot;objectType&quot;: &quot;avatar&quot;
            }
        ]
    },
    &quot;id&quot;: &quot;&lt;server-generated UUID&gt;&quot;,
    &quot;published&quot;: &quot;&lt;server-generated timestamp, RFC3339 format&gt;&quot;,
    &quot;verb&quot;: &quot;connect&quot;
}
</code></pre>
<h2 id="another-user-disconnects">Another user disconnects</h2>
<p>If user A is in any room that user B is in, and user B disconnects from the chat server, an event called
<code>gn_user_disconnected</code> will be sent to user A with the following content:</p>
<pre><code class="language-json">{
    &quot;id&quot;: &quot;&lt;server-generated UUID&gt;&quot;,
    &quot;published&quot;: &quot;&lt;server-generated timestamp, RFC3339 format&gt;&quot;,
    &quot;actor&quot;: {
        &quot;id&quot;: &quot;&lt;user B's UUID&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of user B&gt;&quot;,
    },
    &quot;verb&quot;: &quot;disconnect&quot;
}
</code></pre>
<h2 id="you-were-banned">You were banned</h2>
<p>If you are banned, either in a room, a channel or globally, you will receive the following event named <code>gn_banned</code>:</p>
<pre><code class="language-json">{
    &quot;actor&quot;: {
        &quot;id&quot;: &quot;&lt;ID of the one who banned you&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;username of the one who banned you, in base64&gt;&quot;
    },
    &quot;object&quot;: {
        &quot;id&quot;: &quot;&lt;your user ID&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;your username in base64&gt;&quot;,
        &quot;summary&quot;: &quot;30s&quot;,
        &quot;updated&quot;: &quot;2017-02-15T09:11:52Z&quot;,
        &quot;content&quot;: &quot;&lt;the reason for the ban&gt;&quot;
    },
    &quot;target&quot;: {
        &quot;id&quot;: &quot;&lt;room/channel uuid&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;room/channel name, in base64&gt;&quot;,
        &quot;objectType&quot;: &quot;&lt;room/channel/global&gt;&quot;
    },
    &quot;verb&quot;: &quot;ban&quot;,
    &quot;id&quot;: &quot;&lt;server-generated UUID&gt;&quot;,
    &quot;published&quot;: &quot;&lt;server-generated timestamp, RFC3339 format&gt;&quot;
}
</code></pre>
<ul>
<li>target.id and target.displayName will not be present if target.objectType is "global",</li>
<li>object.summary is the duration of the ban, e.g. 30s, 2h, 7d etc.,</li>
<li>object.updated is the timestamp when the ban will expire, in UTC,</li>
<li>object.content is the reason for the ban, but if no reason is given by the banned, this field will not be present.</li>
</ul>
<h2 id="a-new-room-is-created">A new room is created</h2>
<p>When a new room is created in a channel that user A is in, an event called <code>gn_room_created</code> will be sent to user A with
the following content:</p>
<pre><code class="language-json">{
    &quot;id&quot;: &quot;&lt;server-generated UUID&gt;&quot;,
    &quot;published&quot;: &quot;&lt;server-generated timestamp, RFC3339 format&gt;&quot;,
    &quot;actor&quot;: {
        &quot;id&quot;: &quot;&lt;UUID of user who created the room&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of the user who created the room&gt;&quot;,,
        &quot;attachments&quot;: [
            {
                &quot;content&quot;: &quot;NDA=&quot;,
                &quot;objectType&quot;: &quot;age&quot;
            },
            {
                &quot;content&quot;: &quot;aHR0cDovL3NvbWUtdXJsLnRsZC9mb28uanBn&quot;,
                &quot;objectType&quot;: &quot;avatar&quot;
            }
        ]
    },
    &quot;object&quot;: {
        &quot;url&quot;: &quot;&lt;UUID of the channel for this room&gt;&quot;
    },
    &quot;target&quot;: {
        &quot;id&quot;: &quot;&lt;UUID of the new room&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of the new room&gt;&quot;,
        &quot;objectType&quot;: &quot;temporary&quot;
    },
    &quot;verb&quot;: &quot;create&quot;
}
</code></pre>
<p>The <code>target.objectType</code> will always be <code>temporary</code> since all rooms created using the API are user created rooms, meaning
they will be automatically removed when the owner leaves.</p>
<h2 id="a-user-is-kicked-from-a-room">A user is kicked from a room</h2>
<p>When a user is kicked from a room, an event will be sent to all users in that room (except the kicked user), called 
<code>gn_user_kicked</code>, with the following content:</p>
<pre><code class="language-json">{
    &quot;id&quot;: &quot;&lt;server-generated UUID&gt;&quot;,
    &quot;published&quot;: &quot;&lt;server-generated timestamp, RFC3339 format&gt;&quot;,
    &quot;actor&quot;: {
        &quot;id&quot;: &quot;&lt;UUID of the kicker&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of the kicker&gt;&quot;,
        &quot;attachments&quot;: [
            {
                &quot;content&quot;: &quot;NDA=&quot;,
                &quot;objectType&quot;: &quot;age&quot;
            },
            {
                &quot;content&quot;: &quot;aHR0cDovL3NvbWUtdXJsLnRsZC9mb28uanBn&quot;,
                &quot;objectType&quot;: &quot;avatar&quot;
            }
        ]
    },
    &quot;object&quot;: {
        &quot;id&quot;: &quot;&lt;UUID of the kicked user&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of the kicked user&gt;&quot;,
        &quot;content&quot;: &quot;&lt;optional reason field&gt;&quot;,
        &quot;attachments&quot;: [
            {
                &quot;content&quot;: &quot;NDA=&quot;,
                &quot;objectType&quot;: &quot;age&quot;
            },
            {
                &quot;content&quot;: &quot;aHR0cDovL3NvbWUtdXJsLnRsZC9mb28uanBn&quot;,
                &quot;objectType&quot;: &quot;avatar&quot;
            }
        ]
    },
    &quot;target&quot;: {
        &quot;id&quot;: &quot;&lt;UUID of the room the user was kicked from&gt;&quot;,
        &quot;displayName&quot;: &quot;&lt;name of the room the user was kicked from&gt;&quot;
    },
    &quot;verb&quot;: &quot;kick&quot;
}
</code></pre>
<h2 id="broadcast-received">Broadcast received</h2>
<p>When a message is broadcasted to every user on the server, a <code>gn_broadcast</code> event is received:</p>
<pre><code class="language-json">{
    &quot;actor&quot;: {
        &quot;displayName&quot;: &quot;&lt;admin in base64&gt;&quot;,
        &quot;id&quot;: &quot;0&quot; 
    },  
    &quot;content&quot;: &quot;&lt;base64&gt;&quot;,
    &quot;verb&quot;: &quot;broadcast&quot;,
    &quot;id&quot;: &quot;&lt;server-generated UUID&gt;&quot;,
    &quot;published&quot;: &quot;&lt;server-generated timestamp, RFC3339 format&gt;&quot;,
    &quot;provider&quot;: {
        &quot;id&quot;: &quot;popp&quot;
    }
}
</code></pre>
<h2 id="a-user-is-banned">A user is banned</h2>
<p>TODO: currently the user will be banned, but the "kicked" event will be broadcasted to relevant users. There's currently
no "banned" event for this.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
